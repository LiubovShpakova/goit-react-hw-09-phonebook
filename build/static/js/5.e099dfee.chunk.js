(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[5],{143:function(t,e,n){t.exports={contact_list:"ContactList_contact_list__jtevo",contact__container:"ContactList_contact__container__2Qw8i"}},151:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return F}));var a=n(138),c=n(0),r=n(17),o=n(33),s=n(28),i=n.n(s),u=n(152),l=n(13);i.a.defaults.baseURL="https://connections-api.herokuapp.com";var b,d,j=n(36),O=function(t){return t.contacts.filter},h=function(t){return t.contacts.items},f=Object(j.a)([h,O],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),m=n(150),x=n(134),p=n(141),v=(n(139),n(34)),C=n(1),y=v.a.div(b||(b=Object(o.a)(["\n  .btn-secondary {\n    color: #d1abc4;\n  }\n  .form-control {\n    max-width: 400px;\n  }\n"])));function _(){var t=Object(c.useState)(""),e=Object(a.a)(t,2),n=e[0],o=e[1],s=Object(c.useState)(""),b=Object(a.a)(s,2),d=b[0],j=b[1],O=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":o(a);break;case"number":j(a);break;default:return}},f=Object(r.d)(h),v=Object(r.c)(),_=Object(c.useCallback)((function(t,e){v(function(t,e){return function(n){var a={id:Object(u.a)(),name:t,number:e};n(l.a.addContactRequest()),i.a.post("/contacts",a).then((function(t){var e=t.data;return n(l.a.addContactSuccess(e))})).catch((function(t){return n(l.a.addContactError(t))}))}}(t,e))}),[v]),g=Object(u.a)(),k=Object(u.a)();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(y,{children:Object(C.jsxs)(m.a,{onSubmit:function(t){t.preventDefault(),function(){var t=f.find((function(t){return t.name.toLowerCase()===n.toLowerCase()})),e=f.find((function(t){return t.number===d}));t||e?p.b.error("".concat(n," or ").concat(d," is already in contacts"),{className:"error_toast"}):_(n,d)}(),o(""),j("")},children:[Object(C.jsxs)(m.a.Group,{children:[Object(C.jsx)(m.a.Label,{children:"Name"}),Object(C.jsx)(m.a.Control,{type:"text",id:g,placeholder:"Enter contact name",name:"name",value:n,onChange:O,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(C.jsxs)(m.a.Group,{children:[Object(C.jsx)(m.a.Label,{children:"Number"}),Object(C.jsx)(m.a.Control,{type:"text",id:k,name:"number",value:d,onChange:O,placeholder:"Enter contact number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12  \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0})]}),Object(C.jsx)(x.a,{variant:"secondary",type:"submit",className:"mb-5",children:"Add contact"})]})}),Object(C.jsx)(p.a,{autoClose:3e3})]})}var g=v.a.div(d||(d=Object(o.a)(["\n  .form-control {\n    max-width: 400px;\n  }\n"])));function k(){var t=Object(r.d)(O),e=Object(r.c)(),n=Object(c.useCallback)((function(t){e(l.a.changeFilter(t.target.value))}),[e]);return Object(C.jsxs)(g,{children:[Object(C.jsx)("h2",{children:"Contacts"}),Object(C.jsx)(m.a,{children:Object(C.jsxs)(m.a.Group,{children:[Object(C.jsx)(m.a.Label,{children:"Find Contacts By Name"}),Object(C.jsx)(m.a.Control,{type:"text",placeholder:"Enter contact name",value:t,onChange:n})]})})]})}k.defaultProps={value:""};var w,E=n(144),L=n(145),S=n(143),N=n.n(S),z=v.a.div(w||(w=Object(o.a)(["\n  .btn-secondary {\n    color: #d1abc4;\n  }\n"])));function A(t){var e=t.onOpenModal,n=Object(r.c)(),a=Object(r.d)(f),o=Object(c.useCallback)((function(t){n(function(t){return function(e){e(l.a.deleteContactRequest()),i.a.delete("/contacts/".concat(t)).then((function(){return e(l.a.deleteContactSuccess(t))})).catch((function(t){return e(l.a.deleteContactError(t))}))}}(t))}),[n]);return a.length>0&&Object(C.jsx)("ul",{className:N.a.contact__container,children:a.sort((function(t,e){return t.name.localeCompare(e.name)})).map((function(t){var n=t.id,a=t.name,c=t.number;return Object(C.jsxs)("li",{className:N.a.contact_list,children:[a,": ",c,Object(C.jsxs)(z,{children:[Object(C.jsx)(x.a,{variant:"secondary",className:"ml-1",type:"button",onClick:function(){return e(t)},children:Object(C.jsx)(E.a,{size:"20"})}),Object(C.jsx)(x.a,{variant:"secondary",className:"ml-1",type:"button",onClick:function(){return o(n)},children:Object(C.jsx)(L.a,{size:"20"})})]})]},n)}))})}var q,Z=n(25),G=n(146),R=v.a.div(q||(q=Object(o.a)(["\n  .btn-secondary {\n    color: #d1abc4;\n  }\n  .close__button {\n    position: absolute;\n    right: 10px;\n    top: 10px;\n  }\n"]))),J=document.querySelector("#modal-root");function M(t){var e=t.contactEdit,n=t.onClose,o=Object(c.useState)(e.name),s=Object(a.a)(o,2),b=s[0],d=s[1],j=Object(c.useState)(e.number),O=Object(a.a)(j,2),h=O[0],f=O[1],p=Object(r.c)();Object(c.useEffect)((function(){var t=function(t){"Escape"===t.code&&n(!1)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[n]);var v=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":d(a);break;case"number":f(a);break;default:return}},y=Object(u.a)(),_=Object(u.a)();return Object(c.useEffect)((function(){d(b),f(h)}),[b,h]),Object(Z.createPortal)(Object(C.jsx)("div",{className:"Overlay",onClick:function(t){var e;(e=t).currentTarget===e.target&&n()},children:Object(C.jsx)("div",{className:"form__modal",children:Object(C.jsx)(R,{children:Object(C.jsxs)(m.a,{children:[Object(C.jsx)(x.a,{variant:"secondary",type:"button",onClick:function(){return n(!1)},className:"close__button",children:Object(C.jsx)(G.a,{size:"20"})}),Object(C.jsxs)(m.a.Group,{children:[Object(C.jsx)(m.a.Label,{children:"Edit contact name"}),Object(C.jsx)(m.a.Control,{type:"text",id:y,placeholder:e.name,name:"name",value:b,onChange:v,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(C.jsxs)(m.a.Group,{children:[Object(C.jsx)(m.a.Label,{children:"Edit contact number"}),Object(C.jsx)(m.a.Control,{type:"text",id:_,name:"number",value:h,onChange:v,placeholder:e.number,pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12  \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0})]}),Object(C.jsx)(x.a,{variant:"secondary",type:"button",onClick:function(){var t,a,c={name:b||e.name,number:h||e.number};p((t=e.id,a=c,function(e){e(l.a.editContactRequest()),i.a.patch("/contacts/".concat(t),a).then((function(t){var n=t.data;return e(l.a.editContactSuccess(n))})).catch((function(t){return e(l.a.editContactError(t.message))}))})),n(!1)},children:"Save"})]})})})}),J)}var B=n(135);function F(){var t=Object(c.useState)(!1),e=Object(a.a)(t,2),n=e[0],o=e[1],s=Object(c.useState)({}),u=Object(a.a)(s,2),b=u[0],d=u[1],j=Object(r.c)();return Object(c.useEffect)((function(){j((function(t){t(l.a.fetchContactsRequest()),i.a.get("/contacts").then((function(e){var n=e.data;return t(l.a.fetchContactsSuccess(n))})).catch((function(e){return t(l.a.fetchContactsError(e))}))}))}),[j]),Object(C.jsxs)(B.a,{children:[Object(C.jsx)("h1",{children:"Phonebook"}),Object(C.jsx)(_,{}),Object(C.jsx)(k,{}),Object(C.jsx)(A,{onOpenModal:function(t){o(!0),d(t)}}),n&&b&&Object(C.jsx)(M,{onClose:function(){d(null)},contactEdit:b})]})}}}]);
//# sourceMappingURL=5.e099dfee.chunk.js.map