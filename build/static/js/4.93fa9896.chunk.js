(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[4],{143:function(t,e,n){t.exports={contact_list:"ContactList_contact_list__jtevo",contact__container:"ContactList_contact__container__2Qw8i"}},148:function(t,e,n){"use strict";n.r(e);var a,c=n(140),r=n(32),o=n(0),s=n(17),i=n(28),u=n.n(i),d=new Uint8Array(16);function l(){if(!a&&!(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(d)}var b=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var j=function(t){return"string"===typeof t&&b.test(t)},f=[],h=0;h<256;++h)f.push((h+256).toString(16).substr(1));var p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(f[t[e+0]]+f[t[e+1]]+f[t[e+2]]+f[t[e+3]]+"-"+f[t[e+4]]+f[t[e+5]]+"-"+f[t[e+6]]+f[t[e+7]]+"-"+f[t[e+8]]+f[t[e+9]]+"-"+f[t[e+10]]+f[t[e+11]]+f[t[e+12]]+f[t[e+13]]+f[t[e+14]]+f[t[e+15]]).toLowerCase();if(!j(n))throw TypeError("Stringified UUID is invalid");return n};var m=function(t,e,n){var a=(t=t||{}).random||(t.rng||l)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var c=0;c<16;++c)e[n+c]=a[c];return e}return p(a)},O=n(15);u.a.defaults.baseURL="https://connections-api.herokuapp.com";var v,C,x=n(35),g=function(t){return t.contacts.filter},y=function(t){return t.contacts.items},w=Object(x.a)([y,g],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),_=n(147),k=n(135),L=n(141),E=(n(139),n(33)),R=n(1),S=E.a.div(v||(v=Object(r.a)(["\n  .btn-secondary {\n    color: #d1abc4;\n  }\n  .form-control {\n    max-width: 400px;\n  }\n"])));function N(){var t=Object(o.useState)(""),e=Object(c.a)(t,2),n=e[0],a=e[1],r=Object(o.useState)(""),i=Object(c.a)(r,2),d=i[0],l=i[1],b=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":a(c);break;case"number":l(c);break;default:return}},j=Object(s.d)(y),f=Object(s.c)(),h=Object(o.useCallback)((function(t,e){f(function(t,e){return function(n){var a={id:m(),name:t,number:e};n(O.a.addContactRequest()),u.a.post("/contacts",a).then((function(t){var e=t.data;return n(O.a.addContactSuccess(e))})).catch((function(t){return n(O.a.addContactError(t))}))}}(t,e))}),[f]),p=m(),v=m();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(S,{children:Object(R.jsxs)(_.a,{onSubmit:function(t){t.preventDefault(),function(){var t=j.find((function(t){return t.name.toLowerCase()===n.toLowerCase()})),e=j.find((function(t){return t.number===d}));t||e?L.b.error("".concat(n," or ").concat(d," is already in contacts"),{className:"error_toast"}):h(n,d)}(),console.log(n,d),a(""),l("")},children:[Object(R.jsxs)(_.a.Group,{children:[Object(R.jsx)(_.a.Label,{children:"Name"}),Object(R.jsx)(_.a.Control,{type:"text",id:p,placeholder:"Enter contact name",name:"name",value:n,onChange:b,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0})]}),Object(R.jsxs)(_.a.Group,{children:[Object(R.jsx)(_.a.Label,{children:"Number"}),Object(R.jsx)(_.a.Control,{type:"text",id:v,name:"number",value:d,onChange:b,placeholder:"Enter contact number",pattern:"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 11-12  \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043f\u0443\u0437\u0430\u0442\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0})]}),Object(R.jsx)(k.a,{variant:"secondary",type:"submit",className:"mb-5",children:"Add contact"})]})}),Object(R.jsx)(L.a,{autoClose:3e3})]})}var A=E.a.div(C||(C=Object(r.a)(["\n  .form-control {\n    max-width: 400px;\n  }\n"])));function q(){var t=Object(s.d)(g),e=Object(s.c)(),n=Object(o.useCallback)((function(t){e(O.a.changeFilter(t.target.value))}),[e]);return Object(R.jsxs)(A,{children:[Object(R.jsx)("h2",{children:"Contacts"}),Object(R.jsx)(_.a,{children:Object(R.jsxs)(_.a.Group,{children:[Object(R.jsx)(_.a.Label,{children:"Find Contacts By Name"}),Object(R.jsx)(_.a.Control,{type:"text",placeholder:"Enter contact name",value:t,onChange:n})]})})]})}q.defaultProps={value:""};var V,z=n(143),U=n.n(z),D=E.a.div(V||(V=Object(r.a)(["\n  .btn-secondary {\n    color: #d1abc4;\n  }\n"])));function F(){var t=Object(s.c)(),e=Object(s.d)(w),n=Object(o.useCallback)((function(e){t(function(t){return function(e){e(O.a.deleteContactRequest()),u.a.delete("/contacts/".concat(t)).then((function(){return e(O.a.deleteContactSuccess(t))})).catch((function(t){return e(O.a.deleteContactError(t))}))}}(e))}),[t]);return Object(o.useEffect)((function(){console.log("Hello fetchContacts"),t((function(t){t(O.a.fetchContactsRequest()),u.a.get("/contacts").then((function(e){var n=e.data;return t(O.a.fetchContactsSuccess(n))})).catch((function(e){return t(O.a.fetchContactsError(e))}))}))}),[t]),e.length>0&&Object(R.jsx)("ul",{className:U.a.contact__container,children:e.map((function(t){var e=t.id,a=t.name,c=t.number;return Object(R.jsxs)("li",{className:U.a.contact_list,children:[a,": ",c,Object(R.jsx)(D,{children:Object(R.jsx)(k.a,{variant:"secondary",className:"ml-2",type:"button",onClick:function(){return n(e)},children:"Delete"})})]},e)}))})}var G=n(136);e.default=function(){return Object(R.jsxs)(G.a,{children:[Object(R.jsx)("h1",{children:"Phonebook"}),Object(R.jsx)(N,{}),Object(R.jsx)(q,{}),Object(R.jsx)(F,{})]})}}}]);
//# sourceMappingURL=4.93fa9896.chunk.js.map