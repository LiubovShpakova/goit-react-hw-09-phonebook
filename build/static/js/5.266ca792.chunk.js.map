{"version":3,"sources":["components/ContactList/ContactList.module.css","redux/contacts/operations.jsx","redux/contacts/selectors.jsx","components/Form/Form.jsx","components/Filter/Filter.jsx","components/ContactList/ContactList.jsx","components/Modal/modal.jsx","pages/ContactsPage.jsx"],"names":["module","exports","axios","defaults","baseURL","getFilter","state","contacts","filter","getAllContacts","items","getVisibleContacts","createSelector","normalizedFilter","toLowerCase","contact","name","includes","Styles","styled","div","ContactForm","useState","setName","number","setNumber","handleChange","event","target","value","useSelector","dispatch","useDispatch","onSubmit","useCallback","id","uuidv4","contactActions","addContactRequest","post","then","data","addContactSuccess","catch","error","addContactError","addContact","nameInputId","numberInputId","Form","e","preventDefault","sameName","find","el","sameNumber","toast","className","createContact","console","log","Group","Label","Control","type","placeholder","onChange","pattern","title","required","Button","variant","autoClose","Filter","changeFilter","defaultProps","ContactList","onOpenModal","onDeleteContact","deleteContactRequest","delete","deleteContactSuccess","deleteContactError","deleteContact","length","style","contact__container","sort","a","b","localeCompare","map","contact_list","onClick","size","modalRoot","document","querySelector","Modal","contactEdit","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","currentTarget","updateContact","update","editContactRequest","patch","editContactSuccess","editContactError","massage","editContact","ContactsPage","isOpenModal","setIsOpenModal","setEditContact","fetchContactsRequest","get","fetchContactsSuccess","fetchContactsError","Container"],"mappings":"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","file":"static/js/5.266ca792.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contact_list\":\"ContactList_contact_list__jtevo\",\"contact__container\":\"ContactList_contact__container__2Qw8i\"};","import axios from 'axios';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport contactActions from './actions';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nexport const fetchContacts = () => dispatch => {\r\n  dispatch(contactActions.fetchContactsRequest());\r\n  axios\r\n    .get('/contacts')\r\n    .then(({ data }) => dispatch(contactActions.fetchContactsSuccess(data)))\r\n    .catch(error => dispatch(contactActions.fetchContactsError(error)));\r\n};\r\nexport const addContact = (name, number) => dispatch => {\r\n  const contact = {\r\n    id: uuidv4(),\r\n    name,\r\n    number,\r\n  };\r\n\r\n  dispatch(contactActions.addContactRequest());\r\n\r\n  axios\r\n    .post('/contacts', contact)\r\n    .then(({ data }) => dispatch(contactActions.addContactSuccess(data)))\r\n    .catch(error => dispatch(contactActions.addContactError(error)));\r\n};\r\nexport const deleteContact = id => dispatch => {\r\n  dispatch(contactActions.deleteContactRequest());\r\n\r\n  axios\r\n    .delete(`/contacts/${id}`)\r\n    .then(() => dispatch(contactActions.deleteContactSuccess(id)))\r\n    .catch(error => dispatch(contactActions.deleteContactError(error)));\r\n};\r\n// export const editContact = (id, update) => dispatch => {\r\n//   dispatch(contactActions.ditContactRequest());\r\n//   axios\r\n//     .patch(`/contacts/${id}`, update)\r\n//     .then(({ data }) => dispatch(contactActions.editContactSuccess(data)))\r\n//     .catch(error => dispatch(contactActions.editContactError(error.massage)));\r\n// };\r\nexport const editContact = (id, update) => async dispatch => {\r\n  dispatch(contactActions.editContactRequest());\r\n\r\n  try {\r\n    const { data } = await axios.patch(`/contacts/${id}`, update);\r\n    console.log(data);\r\n    console.log(update);\r\n    dispatch(contactActions.editContactSuccess(data));\r\n  } catch (error) {\r\n    dispatch(contactActions.editContactError(error.massage));\r\n  }\r\n};\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nexport const getLoading = state => state.contacts.loading;\r\nexport const getFilter = state => state.contacts.filter;\r\nexport const getAllContacts = state => state.contacts.items;\r\n\r\nexport const getVisibleContacts = createSelector(\r\n    [getAllContacts, getFilter],\r\n    (contacts, filter) => {\r\n      \r\n      const normalizedFilter = filter.toLowerCase();\r\n  \r\n      return contacts.filter((contact) =>\r\n      contact.name.toLowerCase().includes(normalizedFilter),\r\n      );\r\n    },\r\n  );\r\n","import { useState, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { addContact } from '../../redux/contacts/operations';\r\nimport { getAllContacts } from '../../redux/contacts/selectors';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styled from 'styled-components';\r\nconst Styles = styled.div`\r\n  .btn-secondary {\r\n    color: #d1abc4;\r\n  }\r\n  .form-control {\r\n    max-width: 400px;\r\n  }\r\n`;\r\n\r\nexport default function ContactForm() {\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'number':\r\n        setNumber(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const items = useSelector(getAllContacts);\r\n  const dispatch = useDispatch();\r\n  const onSubmit = useCallback(\r\n    (name, number) => {\r\n      dispatch(addContact(name, number));\r\n    },\r\n    [dispatch],\r\n  );\r\n  const nameInputId = uuidv4();\r\n  const numberInputId = uuidv4();\r\n\r\n  const createContact = () => {\r\n    const sameName = items.find(\r\n      el => el.name.toLowerCase() === name.toLowerCase(),\r\n    );\r\n    const sameNumber = items.find(el => el.number === number);\r\n    if (sameName || sameNumber) {\r\n      toast.error(`${name} or ${number} is already in contacts`, {\r\n        className: 'error_toast',\r\n      });\r\n      return;\r\n    } else {\r\n      onSubmit(name, number);\r\n    }\r\n  };\r\n  const reset = () => {\r\n    setName('');\r\n    setNumber('');\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    createContact();\r\n    console.log(name, number);\r\n    reset();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Styles>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              id={nameInputId}\r\n              placeholder=\"Enter contact name\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={handleChange}\r\n              pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n              title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Number</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              id={numberInputId}\r\n              name=\"number\"\r\n              value={number}\r\n              onChange={handleChange}\r\n              placeholder=\"Enter contact number\"\r\n              pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\r\n              title=\"Номер телефона должен состоять из 11-12  цифр и может содержать цифры, пробелы, тире, пузатые скобки и может начинаться с +\"\r\n              required\r\n            />\r\n          </Form.Group>\r\n          <Button variant=\"secondary\" type=\"submit\" className=\"mb-5\">\r\n            Add contact\r\n          </Button>\r\n        </Form>\r\n      </Styles>\r\n      <ToastContainer autoClose={3000} />\r\n    </>\r\n  );\r\n}\r\n\r\n/*import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addContact } from '../../redux/contacts/operations';\r\nimport { getAllContacts } from '../../redux/contacts/selectors';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styled from 'styled-components';\r\nconst Styles = styled.div`\r\n  .btn-secondary {\r\n    color: #d1abc4;\r\n  }\r\n  .form-control {\r\n    max-width: 400px;\r\n  }\r\n`;\r\n\r\nclass ContactForm extends Component {\r\n  state = {\r\n    name: '',\r\n    number: '',\r\n  };\r\n\r\n  nameInputId = uuidv4();\r\n  numberInputId = uuidv4();\r\n\r\n  handleChange = e => {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({ [name]: value });\r\n  };\r\n  createContact = () => {\r\n    const { name, number } = this.state;\r\n    const { onSubmit, items } = this.props;\r\n\r\n    const sameName = items.find(\r\n      el => el.name.toLowerCase() === name.toLowerCase(),\r\n    );\r\n    /* const sameNumber = items.find(el => el.number === number);\r\n\r\n     if (sameName || sameNumber) {\r\n      alert(`${name} or ${number} is already in contacts`);\r\n      return;\r\n    } else {\r\n      onSubmit(name, number);\r\n    }*/\r\n/*if (sameName) {\r\n      toast.error(`${name} is already in contacts`, {\r\n        className: 'error_toast',\r\n      });\r\n      return;\r\n    } else {\r\n      onSubmit(name, number);\r\n    }\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.createContact();\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ name: '', number: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Styles>\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                id={this.nameInputId}\r\n                placeholder=\"Enter contact name\"\r\n                name=\"name\"\r\n                value={this.state.name}\r\n                onChange={this.handleChange}\r\n                pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <Form.Label>Number</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                id={this.numberInputId}\r\n                name=\"number\"\r\n                value={this.state.number}\r\n                onChange={this.handleChange}\r\n                placeholder=\"Enter contact number\"\r\n                pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\r\n                title=\"Номер телефона должен состоять из 11-12  цифр и может содержать цифры, пробелы, тире, пузатые скобки и может начинаться с +\"\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Button variant=\"secondary\" type=\"submit\" className=\"mb-5\">\r\n              Add contact\r\n            </Button>\r\n          </Form>\r\n        </Styles>\r\n        <ToastContainer autoClose={3000} />\r\n      </>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => ({\r\n  items: getAllContacts(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onSubmit: (name, number) => dispatch(addContact(name, number)),\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ContactForm);\r\nContactForm.propTypes = { onSubmit: PropTypes.func.isRequired };*/\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { useCallback } from 'react';\r\nimport contactActions from '../../redux/contacts/actions';\r\nimport { getFilter } from '../../redux/contacts/selectors';\r\nimport { Form } from 'react-bootstrap';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styled from 'styled-components';\r\nconst Styles = styled.div`\r\n  .form-control {\r\n    max-width: 400px;\r\n  }\r\n`;\r\n\r\nexport default function Filter() {\r\n  const value = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n  const onChange = useCallback(\r\n    event => {\r\n      dispatch(contactActions.changeFilter(event.target.value));\r\n    },\r\n    [dispatch],\r\n  );\r\n  return (\r\n    <Styles>\r\n      <h2>Contacts</h2>\r\n      <Form>\r\n        <Form.Group>\r\n          <Form.Label>Find Contacts By Name</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter contact name\"\r\n            value={value}\r\n            onChange={onChange}\r\n          />\r\n        </Form.Group>\r\n      </Form>\r\n    </Styles>\r\n  );\r\n}\r\n\r\nFilter.defaultProps = {\r\n  value: '',\r\n};\r\nFilter.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n","import { useEffect, useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Button } from 'react-bootstrap';\r\nimport { FiEdit } from 'react-icons/fi';\r\nimport { RiDeleteBin7Line } from 'react-icons/ri';\r\nimport { deleteContact, fetchContacts } from '../../redux/contacts/operations';\r\nimport { getVisibleContacts } from '../../redux/contacts/selectors';\r\nimport PropTypes from 'prop-types';\r\nimport style from './ContactList.module.css';\r\n\r\nimport styled from 'styled-components';\r\nconst Styles = styled.div`\r\n  .btn-secondary {\r\n    color: #d1abc4;\r\n  }\r\n`;\r\n\r\nexport default function ContactList({ onOpenModal }) {\r\n  const dispatch = useDispatch();\r\n  const items = useSelector(getVisibleContacts);\r\n  const onDeleteContact = useCallback(\r\n    id => {\r\n      dispatch(deleteContact(id));\r\n    },\r\n    [dispatch],\r\n  );\r\n\r\n  // useEffect(() => {\r\n  //   dispatch(fetchContacts());\r\n  // }, [dispatch]);\r\n\r\n  return (\r\n    items.length > 0 && (\r\n      <ul className={style.contact__container}>\r\n        {items\r\n          .sort((a, b) => a.name.localeCompare(b.name))\r\n          .map(({ id, name, number }) => {\r\n            return (\r\n              <li className={style.contact_list} key={id}>\r\n                {name}: {number}\r\n                <Styles>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    className=\"ml-1\"\r\n                    type=\"button\"\r\n                    onClick={() => onOpenModal()}\r\n                  >\r\n                    <FiEdit size=\"20\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    className=\"ml-1\"\r\n                    type=\"button\"\r\n                    onClick={() => onDeleteContact(id)}\r\n                  >\r\n                    <RiDeleteBin7Line size=\"20\" />\r\n                  </Button>\r\n                </Styles>\r\n              </li>\r\n            );\r\n          })}\r\n      </ul>\r\n    )\r\n  );\r\n}\r\n\r\n/*class ContactList extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchContacts();\r\n  }\r\n  render() {\r\n    const { items, onDeleteContact } = this.props;\r\n    return (\r\n      items.length > 0 && (\r\n        <ul className={style.contact__container}>\r\n          {items.map(({ id, name, number }) => {\r\n            return (\r\n              <li className={style.contact_list} key={id}>\r\n                {name}: {number}\r\n                <Styles>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    className=\"ml-2\"\r\n                    type=\"button\"\r\n                    onClick={() => onDeleteContact(id)}\r\n                  >\r\n                    Delete\r\n                  </Button>\r\n                </Styles>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  items: getVisibleContacts(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  onDeleteContact: id => dispatch(deleteContact(id)),\r\n  fetchContacts: () => dispatch(fetchContacts()),\r\n});*/\r\n\r\nContactList.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  onDeleteContact: PropTypes.func.isRequired,\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { createPortal } from 'react-dom';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { editContact } from '../../redux/contacts/operations';\r\nimport { AiFillCloseCircle } from 'react-icons/ai';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\nconst Styles = styled.div`\r\n  .btn-secondary {\r\n    color: #d1abc4;\r\n  }\r\n  .close__button {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 10px;\r\n  }\r\n`;\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ contactEdit, onClose }) {\r\n  const { contact, id } = contactEdit;\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n  const dispatch = useDispatch();\r\n  console.log(contactEdit);\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleChange = event => {\r\n    const { name, value } = event.target;\r\n    switch (name) {\r\n      case 'name':\r\n        setName(value);\r\n        break;\r\n      case 'number':\r\n        setNumber(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n  const nameInputId = uuidv4();\r\n  const numberInputId = uuidv4();\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleSave = () => {\r\n    const updateContact = {\r\n      name: name ? name : contact.name,\r\n      number: number ? number : contact.number,\r\n    };\r\n    dispatch(editContact(id, updateContact));\r\n    onClose(false);\r\n  };\r\n  useEffect(() => {\r\n    setName(name);\r\n    setNumber(number);\r\n  }, [name, number]);\r\n  console.log(contact);\r\n  return createPortal(\r\n    <div className=\"Overlay\" onClick={e => handleBackdropClick(e)}>\r\n      <div className=\"form__modal\">\r\n        <Styles>\r\n          <Form>\r\n            <Button\r\n              variant=\"secondary\"\r\n              type=\"button\"\r\n              onClick={() => onClose(false)}\r\n              className=\"close__button\"\r\n            >\r\n              <AiFillCloseCircle size=\"20\" />\r\n            </Button>\r\n            <Form.Group>\r\n              <Form.Label>Edit contact name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                id={nameInputId}\r\n                placeholder={contact.name}\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={handleChange}\r\n                pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n                title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <Form.Label>Edit contact number</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                id={numberInputId}\r\n                name=\"number\"\r\n                value={number}\r\n                onChange={handleChange}\r\n                placeholder={contact.number}\r\n                pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\r\n                title=\"Номер телефона должен состоять из 11-12  цифр и может содержать цифры, пробелы, тире, пузатые скобки и может начинаться с +\"\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Button variant=\"secondary\" type=\"button\" onClick={handleSave}>\r\n              Save\r\n            </Button>\r\n          </Form>\r\n        </Styles>\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport ContactForm from '../components/Form/Form';\r\nimport Filter from '../components/Filter/Filter';\r\nimport ContactList from '../components/ContactList/ContactList';\r\nimport Modal from '../components/Modal/modal';\r\nimport { fetchContacts } from '../redux/contacts/operations';\r\nimport { Container } from 'react-bootstrap';\r\n\r\nexport default function ContactsPage() {\r\n  const [isOpenModal, setIsOpenModal] = useState(false);\r\n  const [editContact, setEditContact] = useState({});\r\n  const dispatch = useDispatch();\r\n\r\n  const handleOpenModal = (contact, id) => {\r\n    setIsOpenModal(true);\r\n    setEditContact({ contact, id });\r\n  };\r\n  useEffect(() => {\r\n    dispatch(fetchContacts());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Phonebook</h1>\r\n      <ContactForm />\r\n      <Filter />\r\n      <ContactList onOpenModal={handleOpenModal} />\r\n      {isOpenModal && (\r\n        <Modal onClose={setIsOpenModal} contactEdit={editContact} />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n"],"sourceRoot":""}